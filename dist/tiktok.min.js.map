{"version":3,"sources":["tiktok.js"],"names":["require","WebcastPushConnection","WebSocket","wss","Server","port","on","ws","tiktokUsername","tiktokLiveConnection","console","connect","then","state","log","err","data","message","concat","nickname","comment","forEach","client","OPEN","clients","JSON","stringify"],"mappings":"0BAAkCA,QAAQ,yBAAlCC,+BAAAA,sBACFC,UAAYF,QAAQ,MADlBC,eAAAA,eAIFE,IAAM,IAAID,UAAUE,OAAO,CAAEC,KAAM,OAEzCF,IAAIG,GAAG,aAAc,SAAAC,GAHfC,QAAAA,IAAAA,gCAC2B,IAAjCC,qBAAA,IAAAR,sBAAAO,gBAGIE,qBAAYC,UAAAC,KAAA,SAAAC,GADhBH,QAAAI,IAAA,6BACIJ,MAGAD,SAAAA,GAEJA,QAAAA,MAAAA,qBAAoCM,KAGhCL,qBAAcJ,GAAA,OAAA,SAAAU,GAHlB,IAAAC,EAAA,GAAAC,OAAAF,EAAAG,SAAA,WAAAD,OAAAF,EAAAI,SAMAX,QAAAA,IAAAA,GACIN,IAAMc,QAAOI,QAAA,SAAAC,GACLR,EAAIG,aAAZf,UAAAqB,MACIC,EAAQH,KAAQI,KAAAC,UAAM,CAAIT,QAAAA","file":"tiktok.min.js","sourcesContent":["const { WebcastPushConnection } = require('tiktok-live-connector');\r\nconst WebSocket = require('ws');\r\n\r\nconst tiktokUsername = 'therealnucax';\r\nconst wss = new WebSocket.Server({ port: 8080 });\r\n\r\nwss.on('connection', ws => {\r\n    console.log('Conectado al bot de Python');\r\n});\r\n\r\nlet tiktokLiveConnection = new WebcastPushConnection(tiktokUsername);\r\n\r\ntiktokLiveConnection.connect().then(state => {\r\n    console.log('Conectado a TikTok Live');\r\n}).catch(err => {\r\n    console.error('Error al conectar:', err);\r\n});\r\n\r\ntiktokLiveConnection.on('chat', data => {\r\n    const message = `${data.nickname} dijo: ${data.comment}`;\r\n    console.log(message);\r\n    wss.clients.forEach(client => {\r\n        if (client.readyState === WebSocket.OPEN) {\r\n            client.send(JSON.stringify({ message }));\r\n        }\r\n    });\r\n});"]}